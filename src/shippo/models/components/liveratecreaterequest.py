"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .addresscompletecreaterequest import (
    AddressCompleteCreateRequest,
    AddressCompleteCreateRequestTypedDict,
)
from .lineitem import LineItem, LineItemTypedDict
from .parcel import Parcel, ParcelTypedDict
from pydantic import model_serializer
from shippo.types import BaseModel, UNSET_SENTINEL
from typing import List, Optional, Union
from typing_extensions import NotRequired, TypeAliasType, TypedDict


LiveRateCreateRequestAddressFromTypedDict = TypeAliasType(
    "LiveRateCreateRequestAddressFromTypedDict",
    Union[AddressCompleteCreateRequestTypedDict, str],
)
r"""The sender address, which includes your name, company name, street address, city, state, zip code,
country, phone number, and email address (strings). Special characters should not be included in
any address element, especially name, company, and email.
"""


LiveRateCreateRequestAddressFrom = TypeAliasType(
    "LiveRateCreateRequestAddressFrom", Union[AddressCompleteCreateRequest, str]
)
r"""The sender address, which includes your name, company name, street address, city, state, zip code,
country, phone number, and email address (strings). Special characters should not be included in
any address element, especially name, company, and email.
"""


LiveRateCreateRequestAddressToTypedDict = TypeAliasType(
    "LiveRateCreateRequestAddressToTypedDict",
    Union[AddressCompleteCreateRequestTypedDict, str],
)
r"""The recipient address, which includes the recipient's name, company name, street address, city, state, zip code,
country, phone number, and email address (strings). Special characters should not be included in
any address element, especially name, company, and email.
"""


LiveRateCreateRequestAddressTo = TypeAliasType(
    "LiveRateCreateRequestAddressTo", Union[AddressCompleteCreateRequest, str]
)
r"""The recipient address, which includes the recipient's name, company name, street address, city, state, zip code,
country, phone number, and email address (strings). Special characters should not be included in
any address element, especially name, company, and email.
"""


LiveRateCreateRequestParcelTypedDict = TypeAliasType(
    "LiveRateCreateRequestParcelTypedDict", Union[ParcelTypedDict, str]
)
r"""Object ID for an existing User Parcel Template OR a fully formed Parcel object."""


LiveRateCreateRequestParcel = TypeAliasType(
    "LiveRateCreateRequestParcel", Union[Parcel, str]
)
r"""Object ID for an existing User Parcel Template OR a fully formed Parcel object."""


class LiveRateCreateRequestTypedDict(TypedDict):
    address_to: LiveRateCreateRequestAddressToTypedDict
    r"""The recipient address, which includes the recipient's name, company name, street address, city, state, zip code,
    country, phone number, and email address (strings). Special characters should not be included in
    any address element, especially name, company, and email.
    """
    line_items: List[LineItemTypedDict]
    r"""Array of Line Item objects"""
    address_from: NotRequired[LiveRateCreateRequestAddressFromTypedDict]
    r"""The sender address, which includes your name, company name, street address, city, state, zip code,
    country, phone number, and email address (strings). Special characters should not be included in
    any address element, especially name, company, and email.
    """
    parcel: NotRequired[LiveRateCreateRequestParcelTypedDict]
    r"""Object ID for an existing User Parcel Template OR a fully formed Parcel object."""


class LiveRateCreateRequest(BaseModel):
    address_to: LiveRateCreateRequestAddressTo
    r"""The recipient address, which includes the recipient's name, company name, street address, city, state, zip code,
    country, phone number, and email address (strings). Special characters should not be included in
    any address element, especially name, company, and email.
    """

    line_items: List[LineItem]
    r"""Array of Line Item objects"""

    address_from: Optional[LiveRateCreateRequestAddressFrom] = None
    r"""The sender address, which includes your name, company name, street address, city, state, zip code,
    country, phone number, and email address (strings). Special characters should not be included in
    any address element, especially name, company, and email.
    """

    parcel: Optional[LiveRateCreateRequestParcel] = None
    r"""Object ID for an existing User Parcel Template OR a fully formed Parcel object."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["address_from", "parcel"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
