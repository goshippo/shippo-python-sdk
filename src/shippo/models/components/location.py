"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .addresscompletecreaterequest import (
    AddressCompleteCreateRequest,
    AddressCompleteCreateRequestTypedDict,
)
from enum import Enum
from pydantic import model_serializer
from shippo.types import BaseModel, UNSET_SENTINEL
from typing import Optional
from typing_extensions import NotRequired, TypedDict


class BuildingLocationType(str, Enum):
    r"""Where your parcels will be available for pickup. \"Security Deck\" and \"Shipping Dock\" are only
    supported for DHL Express.
    """

    BACK_DOOR = "Back Door"
    RING_BELL = "Ring Bell"
    SECURITY_DECK = "Security Deck"
    SHIPPING_DOCK = "Shipping Dock"
    FRONT_DOOR = "Front Door"
    KNOCK_ON_DOOR = "Knock on Door"
    IN_AT_MAILBOX = "In/At Mailbox"
    MAIL_ROOM = "Mail Room"
    OFFICE = "Office"
    OTHER = "Other"
    RECEPTION = "Reception"
    SIDE_DOOR = "Side Door"


class BuildingType(str, Enum):
    r"""The type of building where the pickup is located."""

    APARTMENT = "apartment"
    BUILDING = "building"
    DEPARTMENT = "department"
    FLOOR = "floor"
    ROOM = "room"
    SUITE = "suite"


class LocationTypedDict(TypedDict):
    r"""Location where the parcel(s) will be picked up."""

    address: AddressCompleteCreateRequestTypedDict
    r"""The pickup address, which includes your name, company name, street address, city, state, zip code,
    country, phone number, and email address (strings). Special characters should not be included in
    any address element, especially name, company, and email.
    """
    building_location_type: BuildingLocationType
    r"""Where your parcels will be available for pickup. \"Security Deck\" and \"Shipping Dock\" are only
    supported for DHL Express.
    """
    building_type: NotRequired[BuildingType]
    r"""The type of building where the pickup is located."""
    instructions: NotRequired[str]
    r"""Pickup instructions for the courier. This is a mandatory field if the building_location_type is \"Other\"."""


class Location(BaseModel):
    r"""Location where the parcel(s) will be picked up."""

    address: AddressCompleteCreateRequest
    r"""The pickup address, which includes your name, company name, street address, city, state, zip code,
    country, phone number, and email address (strings). Special characters should not be included in
    any address element, especially name, company, and email.
    """

    building_location_type: BuildingLocationType
    r"""Where your parcels will be available for pickup. \"Security Deck\" and \"Shipping Dock\" are only
    supported for DHL Express.
    """

    building_type: Optional[BuildingType] = None
    r"""The type of building where the pickup is located."""

    instructions: Optional[str] = None
    r"""Pickup instructions for the courier. This is a mandatory field if the building_location_type is \"Other\"."""

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(["building_type", "instructions"])
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
